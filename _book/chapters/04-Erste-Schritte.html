<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.368">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Lukas Burk">
<meta name="author" content="Tobias Anton">
<title>R für Psychos - 4&nbsp; Erste Schritte</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="../site_libs/quarto-nav/quarto-nav.js"></script><script src="../site_libs/quarto-nav/headroom.min.js"></script><script src="../site_libs/clipboard/clipboard.min.js"></script><meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../site_libs/quarto-search/fuse.min.js"></script><script src="../site_libs/quarto-search/quarto-search.js"></script><link href="../chapters/05-datentypen.html" rel="next">
<link href="../chapters/03-orientierung.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script><script src="../site_libs/quarto-html/popper.min.js"></script><script src="../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../site_libs/quarto-html/anchor.min.js"></script><link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script><link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
<meta property="og:title" content="R für Psychos - 4&nbsp; Erste Schritte">
<meta property="og:site-name" content="R für Psychos">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Erste Schritte</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Erste Schritte</span>
</h1>
                </div>
  </div>
    
  



  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autoren</div>
      <div class="quarto-title-meta-contents">
               <p>Lukas Burk </p>
               <p>Tobias Anton </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
      <div class="quarto-title-meta-contents">
        <p class="date">8. Mai 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">R für Psychos</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/tadaadata/r-intro-book" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Vorwort: 2022 Edition</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Vorbereitung</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01-was-ist-r.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Was ist R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-installation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Installation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03-orientierung.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Orientierung</span></a>
  </div>
</li>
    </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Grundlagen</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04-erste-schritte.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Erste Schritte</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05-datentypen.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Datentypen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06-packages.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07-die-hilfe.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Die Hilfe</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08-datenimport.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenimport</span></a>
  </div>
</li>
    </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Der Spaßige Teil</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10-berichte.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Berichte</span></a>
  </div>
</li>
    </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Anhang</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/a01-ressourcen.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Ressourcen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/a02-glossar.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Glossar</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/a99-reproduzierbarkeit.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Reproduzierbarkeit</span></a>
  </div>
</li>
    </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#grundfunktionen" id="toc-grundfunktionen" class="nav-link active" data-scroll-target="#grundfunktionen"> <span class="header-section-number">4.1</span> Grundfunktionen</a>
  <ul class="collapse">
<li><a href="#funktionsbeispiele" id="toc-funktionsbeispiele" class="nav-link" data-scroll-target="#funktionsbeispiele"> <span class="header-section-number">4.1.1</span> Funktionsbeispiele</a></li>
  </ul>
</li>
  <li><a href="#variablen" id="toc-variablen" class="nav-link" data-scroll-target="#variablen"> <span class="header-section-number">4.2</span> Variablen</a></li>
  <li><a href="#tabellen" id="toc-tabellen" class="nav-link" data-scroll-target="#tabellen"> <span class="header-section-number">4.3</span> Tabellen</a></li>
  <li><a href="#umgang-mit-datens%C3%A4tzen" id="toc-umgang-mit-datensätzen" class="nav-link" data-scroll-target="#umgang-mit-datens%C3%A4tzen"> <span class="header-section-number">4.4</span> Umgang mit Datensätzen</a></li>
  <li>
<a href="#logische-vergleiche" id="toc-logische-vergleiche" class="nav-link" data-scroll-target="#logische-vergleiche"> <span class="header-section-number">4.5</span> Logische Vergleiche</a>
  <ul class="collapse">
<li><a href="#operatoren" id="toc-operatoren" class="nav-link" data-scroll-target="#operatoren"> <span class="header-section-number">4.5.1</span> Operatoren</a></li>
  <li><a href="#spezielle-tests" id="toc-spezielle-tests" class="nav-link" data-scroll-target="#spezielle-tests"> <span class="header-section-number">4.5.2</span> Spezielle Tests</a></li>
  <li><a href="#indexing-beispiele" id="toc-indexing-beispiele" class="nav-link" data-scroll-target="#indexing-beispiele"> <span class="header-section-number">4.5.3</span> Indexing: Beispiele</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><p>Im letzten Abschnitt habt ihr R als glorifizierten Taschenrechner gesehen.<br>
Als nächstes schauen wir uns an, was wir sonst so damit anstellen können.</p>
<p>Zuerst ein bisschen Terminologie:</p>
<blockquote class="blockquote">
<p>“To understand computations in R, two slogans are helpful:</p>
<ul>
<li>Everything that exists is an object.</li>
<li>Everything that happens is a function call.”</li>
</ul>
<p>– John Chambers</p>
</blockquote>
<p>Oder in der Sprach-Analogie: Alles was in R existiert (Variablen, Tabellen, etc.) ist ein <em>Nomen</em> (Objekt) und alles, was etwas tut, ist ein <em>Verb</em> (Funktion).</p>
<section id="grundfunktionen" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="grundfunktionen">
<span class="header-section-number">4.1</span> Grundfunktionen</h2>
<p>Die einfachsten Funktionen haben wir in Form der Rechenzeichen <code>+ - / *</code> schon kennengelernt, aber es gibt natürlich noch mehr.<br>
Eine Funktion in R hat sieht immer ungefähr so aus: <code>sqrt(8)</code>. Der Name der Funktion, hier <code>sqrt</code>, (<strong>immer</strong> ohne Leerzeichen) gefolgt von Klammern, in denen ein oder mehrere <em>Argumente</em> stehen. Ein Argument ist das, womit die Funktion arbeiten soll. Eine gängige Veranschaulichung für Funktionen sind <strong>Verben</strong> einer Sprache, denn sie <em>tun</em> etwas.</p>
<p>Eine der wichtigsten Grundfunktionen ist <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>, für <em>combine</em>. Mit <code>c</code> verbindet ihr mehrere Zahlen zu einem <strong>Vektor</strong> (ja, wie in der linearen Algebra. Mathe und so. Wisstschon.). Wenn ihr mehrere Zahlen zu einem Vektor kombiniert habt, könnt ihr damit so spaßige Dinge machen wie Mittelwerte ausrechen, sie aufsummieren oder zwei Vektoren gleicher Länge addieren.<br>
Probiert mal ein paar Beispiele aus:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-1_5f2e4f5987536ddf98d2fe00741bea8e">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Ein paar Zahlen</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span>
<span class="co">#&gt; [1]  1  1  2  3  5  8 13 21</span>

<span class="co"># Was ist der Mittelwert der Zahlen?</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.75</span>

<span class="co"># Und die Summe?</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 54</span>

<span class="co"># Und wenn wir quadrieren?</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span>
<span class="co">#&gt; [1]   1   1   4   9  25  64 169 441</span>

<span class="co"># Oder die Wurzel ziehen?</span>
<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.000000 1.000000 1.414214 1.732051 2.236068 2.828427 3.605551 4.582576</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Was wir hier sehen ist der Unterschied zwischen Funktionen, die aus mehreren Zahlen eine machen (<code>mean</code>, <code>sum</code>), und Funktionen, die auf jeder Zahl einzeln operieren (<code>sqrt</code>, <code>^</code>).<br>
Was wir außerdem sehen: Jedes mal die Liste von Zahlen <code>c(1, 1, 2, 3, 5, 8, 13, 21)</code> kopieren und in eine Funktion einsetzen ist ziemlich unpraktisch. Stellt euch vor, ihr habt eine Reihe von Testergebnissen von hunderten ProbandInnen und müsst da alles einzeln, also, nein, das wäre ja albern.<br>
Für sowas gibt es dann Abstraktionen wie <strong>Variablen</strong> und <strong>Datensätze</strong>, die entweder eine Liste von Werten oder auch eine Liste einer Liste von Werten handlich machen — das sehen wir dann in den nächsten beiden Abschnitten.</p>
<p>Eine weitere praktische Funktion ist <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>: Sie sagt uns, wie <em>lang</em> das Argument ist.<br>
Wenn wir uns also angucken, wie der Mittelwert funktioniert…</p>
<p><span class="math display">\[\bar{x} = \frac{1}{n} \sum^n_{i=1} x_i\]</span></p>
<p>…und wir das übersetzen in <em>“Die Summe aller Werte geteilt durch die Anzahl der Werte”</em>, dann können wir statt <code>mean</code> also auch folgendes schreiben:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-2_c3ab6432939db1394932e7c67a4f3d3a">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># in lang</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.75</span>

<span class="co"># in kurz</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.75</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Ihr seht vielleicht so langsam, wieso wir das mit den Klammern und den Leerzeichen für die Lesbarkeit erwähnt haben.<br>
Aber gut, so langsam wird’s unübersichtlich, es wird Zeit ein paar Variablen anzulegen.</p>
<section id="funktionsbeispiele" class="level3" data-number="4.1.1"><h3 data-number="4.1.1" class="anchored" data-anchor-id="funktionsbeispiele">
<span class="header-section-number">4.1.1</span> Funktionsbeispiele</h3>
<p>Wenn ihr R lernt, werdet ihr erfahrungsgemäß die meiste Zeit damit verbringen herauszufinden wie bestimmte Funktionen funktionieren und welche Funktion für euer Vorhaben die richtige ist.</p>
<p>Funktionen sind zwar vom Schema immer gleich — ihr steckt irgendwelche Argumente rein, und es kommt irgendein Ergebnis raus — aber wie die Argumente aussehen unterscheidet sich von Funktion zu Funktion.<br><code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code> zum Beispiel hat zwei Argumente:</p>
<ul>
<li>
<code>x</code>: Ein Vektor aus Zahlen, aus denen die Standardabweichung berechnet werden soll</li>
<li>
<code>na.rm</code>: Für <code>NA remove</code>, entweder <code>TRUE</code> oder <code>FALSE</code>. Wenn <code>x</code> fehlende Werte (<code>NA</code>) enthält, dann werden diese automatisch ignoriert, wenn <code>na.rm = TRUE</code>
</li>
</ul>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-3_a6e8aa331ade893515a7fcceefe0e6db">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">zahlen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="cn">NA</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>

<span class="co"># Ergibt NA :(</span>
<span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">zahlen</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span>

<span class="co"># Ergibt ein Ergebnis :)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">zahlen</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 2.065591</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Der <em>default</em> für <code>na.rm</code> ist bei den meisten Funktionen (z.B auch <code>mean</code>) <code>FALSE</code>, das heißt fehlende Werte werden nicht automatisch ignoriert. Wenn euer <em>input</em> aber <code>NA</code> enthält, dann lässt sich daraus nicht sauber ein Mittelwert oder eine Standardabweichung berechnen, weil wir nichts über <code>NA</code> wissen (wir widmen uns <code>NA</code> im Kapitel zu Datentypen).<br>
Nicht jede Funktion hat ein Argument namens <code>na.rm</code>, aber ihr werdet im Laufe der Zeit lernen, bei welchen Funktionen ihr darauf achten müsst, wie mit fehlenden Werten umgegangen wird.</p>
<p>Einige andere Funktionen, die insbesondere zum Lernen und Ausprobieren praktisch sind, werden zur Erstellung von <strong>Sequenzen</strong> benutzt — also Reihen von Zahlen in einem bestimmten Muster:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-4_882c9cc204dc6ee23aa84ac957a7bbeb">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Die Zahlen von 1 bis 100</span>
<span class="fl">1</span><span class="op">:</span><span class="fl">100</span>
<span class="co">#&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18</span>
<span class="co">#&gt;  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36</span>
<span class="co">#&gt;  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54</span>
<span class="co">#&gt;  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72</span>
<span class="co">#&gt;  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90</span>
<span class="co">#&gt;  [91]  91  92  93  94  95  96  97  98  99 100</span>

<span class="co"># 10 bis 15 in 0.5er-Schritten</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">0.5</span><span class="op">)</span>
<span class="co">#&gt;  [1] 10.0 10.5 11.0 11.5 12.0 12.5 13.0 13.5 14.0 14.5 15.0</span>

<span class="co"># Äquivalent, mit explizit benannten Argumenten:</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">10</span>, to <span class="op">=</span> <span class="fl">15</span>, by <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>
<span class="co">#&gt;  [1] 10.0 10.5 11.0 11.5 12.0 12.5 13.0 13.5 14.0 14.5 15.0</span>

<span class="co"># Von 5 bis -5 in ganzen Schritten</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="op">-</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt;  [1]  5  4  3  2  1  0 -1 -2 -3 -4 -5</span>

<span class="co"># Sequenz von 1 mit Länge 5, dasselbe wie 1:5</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span>
<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span>length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Das <code>:</code> ist eine einfache Funktion und kann gelesen werden wie “Von … bis … in ganzen Schritten”. Zusötzlich gibt es die Funktion <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code>, die etwas flexibler ist. Außerdem gibt es diverse Funktionen für zufallsgenerierte Zahlen:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-5_e4956c7c6e9db6bacf9916b81ec8f18e">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Normalverteilte Zufallszahlen (10 Stück, Mittelwert 5, Standardabweichung 2) </span>
<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">5</span>, sd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;  [1] 3.125531 4.290414 3.257567 6.157613 8.736960 5.762605 3.971103 3.725957</span>
<span class="co">#&gt;  [9] 3.205225 6.926189</span>

<span class="co"># Gleichverteilte Zufallszahlen (sprich "r unif", nicht "run if")</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1] 0.87405632 0.06917889 0.43218638 0.45629630 0.73254597 0.39701918</span>
<span class="co">#&gt;  [7] 0.13624601 0.81409080 0.21727864 0.46286741</span>

<span class="co"># Münzwurf (Binomialverteilte Ergebnisse), 10 Stück</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>
<span class="co">#&gt;  [1] 1 1 1 1 1 0 0 1 0 1</span>

<span class="co"># Würfel (W6) (10 Stück)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, size <span class="op">=</span> <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] 6 3 6 3 5 6 3 6 3 5</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="variablen" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="variablen">
<span class="header-section-number">4.2</span> Variablen</h2>
<p>Wenn Funktionen wie Verben sind, dann sind Variablen wie <strong>Nomen</strong>. Sie haben einen Namen, und mit ihnen kann man Dinge tun. Oder sogar Sachen machen.<br>
Variablen werden durch eine <em>Zuweisung</em> (<em>Assignment</em>) erstellt, was in R traditionell via <code>&lt;-</code> passiert.<br>
In den meisten anderen Programmiersprachen benutzt man dafür <code>=</code>, aber nun ja, R ist <a href="https://ironholds.org/projects/rbitrary/#why-do-we-use---for-assignment">historisch gewachsen</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, also nehmt für den Anfang einfach mal hin, dass das nunmal so ist.<br>
Wir speichern also mal ein paar Dinge:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-6_dc79f98ebb054166b790f3669199f6ff">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Speichern in "fib"</span>
<span class="va">fib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span> 

<span class="co"># Ausgeben lassen</span>
<span class="va">fib</span>
<span class="co">#&gt; [1]  1  1  2  3  5  8 13 21</span>

<span class="co"># Mittelwert…</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">fib</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.75</span>

<span class="co"># …funktioniert immer noch. Angenehm.</span>
<span class="co"># Und wenn wir…</span>
<span class="va">fib</span> <span class="op">+</span> <span class="va">fib</span>
<span class="co">#&gt; [1]  2  2  4  6 10 16 26 42</span>

<span class="co"># Abgefahrener Kram.</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hier haben wir die Zahlen <code>1, 1, 2, 3, 5, 8, 13, 21</code> in die Variable <code>fib</code> gespeichert, weil es die ersten paar <a href="https://de.wikipedia.org/wiki/Fibonacci-Folge">Fibonacci-Zahlen</a> sind, und wir unsere Variablen immer so benennen sollten, dass wir später noch wissen wofür sie da sind. Viele Tutorials beginnen damit, Variablen wie <code>x</code>, <code>y</code> und <code>z</code> anzulegen, aber da blickt ja irgendwann kein Mensch mehr durch.<br>
Wenn ihr jetzt mit euren Zahlen arbeiten wollt, könnt ihr einfach in jeder Funktion <code>fib</code> statt der Liste mit <code>c(…)</code> einsetzen, und alles funktioniert wie vorher. Das liegt daran, dass R bei jedem Befehl erstmal nachschaut, ob ihr eine Variable benutzt (alles was Text ohne Anführungszeichen ist), und ob es die Variable findet. Wenn es die Variable gefunden hat, guckt es nach, was da drinsteht, in diesem Fall also <code>c(1, 1, 2, 3, 5, 8, 13, 21)</code>, dann benutzt R den Inhalt der Variablen.</p>
<p>An dieser Stelle bietet es sich an, einen neuen Typ einzuführen: Den String (oder auch <code>character</code>). Als String bezeichnet man im Kontext von, naja, Computerkram generell eigentlich, alles was als Text durchgeht. Sobald wir etwas nicht mehr nur durch Zahlen darstellen können, ist es ein String.<br>
Strings stehen in R immer in Anführungszeichen, entweder in "doppelten" oder in 'einfachen'.</p>
<p>Wichtig dabei ist, dass sich Anführungszeichen ähnlich verhalten wie Klammern. Wenn wir einen String mit <code>“</code> beginnen, müssen wir ihn auch wieder mit <code>”</code> schließen, ansonsten wartet R brav darauf, dass endlich das zweite <code>“</code> kommt und verläuft sich.<br>
Ein Beispiel:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-7_a473e269ac60faa19dd477a07675d353">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vollkommen okay</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>namen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Tobi"</span>, <span class="st">"Lukas"</span>, <span class="st">"Nadja"</span>, <span class="st">"Christoph"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Auch okay, aber inkonsistent und daher eher unschön</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>namen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Tobi'</span>, <span class="st">"Lukas"</span>, <span class="st">'Nadja'</span>, <span class="st">"Christoph"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Tod und Verderben (=&gt; funktioniert nicht)</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>namen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Tobi"</span>, <span class="st">'Lukas", '</span>Nadja, Christop<span class="st">")</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wir können auch Zahlen in <code>""</code> setzen — das ist kein Problem, aber dann sind es nunmal keine Zahlen in diesem Sinne mehr, es sind <em>Strings</em>, und mit Strings können wir nicht rechnen.<br>
Probiert folgendes aus:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-8_4629127375ae04645f33e202bd762bb9">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Okay</span>
<span class="fl">5</span> <span class="op">+</span> <span class="fl">5</span>

<span class="co"># Hä?</span>
<span class="fl">5</span> <span class="op">+</span> <span class="st">"5"</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Ihr sehr jetzt vermutlich die Meldung <code>Error in 5 + "5" : non-numeric argument to binary operator</code>.<br>
Das <em>non-numeric argument</em> hier ist die <code>"5"</code>. Merken: <code>5</code> ist <strong>numerisch</strong>, aber <code>"5"</code> ist ein <strong>character</strong> (=&gt; <strong>String</strong>).<br>
Der <em>binary operator</em> an dieser Stelle ist übrigens das <code>+</code>. Ein <strong>Operator</strong>, weil es, äh… operiert? Naja, es tut Dinge, und wenn etwas in R Dinge tut, ist es meistens ein Operator in irgendeinem Sinne. Das <em>binary</em> heißt, dass es <strong>zwei</strong> (bi, binär, binary, zwei halt) Argumente nimmt.<br>
Wie schon gesagt, Argumente sind die Dinge, die wir an Funktionen übergeben, und wenn wir an eine Funktion wie <code>+</code> oder auch <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> ein Argument übergeben, mit denen sie nichts anfangen können, dann beschwert sich R weil es nicht weiß was zum Geier ihr da vorhabt.</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-9_0aaedff40d4180c8d78b1a0da752752f">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">namen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Tobi"</span>, <span class="st">"Lukas"</span>, <span class="st">"Nadja"</span>, <span class="st">"Christoph"</span><span class="op">)</span>

<span class="va">fib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span> 

<span class="co"># Alles knorke</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">fib</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.75</span>

<span class="co"># Alles CHAOS UND UNHEIL</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">namen</span><span class="op">)</span>
<span class="co">#&gt; Warning in mean.default(namen): argument is not numeric or logical:</span>
<span class="co">#&gt; returning NA</span>
<span class="co">#&gt; [1] NA</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Was es mit <code>NA</code> auf sich hat, und was es noch so für Datentypen gibt, sehen wir dann im Abschnitt zu [Datentypen].</p>
<p>Eine letzte Sache noch: Strings sind “dominanter” als Zahlen, das heißt, wir können zwar Zahlen verbinden zu <code>c(1, 2, 3)</code>, und Strings zu <code>c("A", "B", "C")</code>, aber wenn wir <code>c("A", 2, "C", 4)</code> schreiben, dann behandelt R einfach alle Elemente des Vektors (=&gt; Das, was in <code>c(…)</code>) steht, als wären es <code>character</code>-Werte.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: Merke: Ein Vektor in R muss immer Elemente des gleichen Typs haben, Zahlen und Buchstaben zusammen werden zu Strings konvertiert!</p>
</div>
</div>
</section><section id="tabellen" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="tabellen">
<span class="header-section-number">4.3</span> Tabellen</h2>
<p>Jetzt haben wir schonmal das Vokabular an der Hand um Zahlen und beliebige Strings in R zu verarbeiten, aber noch ist das alles etwas unhandlich um damit <em>richtig</em> zu arbeiten.</p>
<p>Stellt euch vor, wir wollen einen kleinen Datensatz erstellen über die Statistiktutorien in QM mit Variablen wie <em>Namen</em>, <em>Alter</em>, und vielleicht sowas wie <em>Beliebtheit</em> auf einer Skala von 1-10.<br>
Wir könnten sowas machen:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-10_a20b406ea54210d614205968d32e22d4">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">namen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Tobi"</span>, <span class="st">"Christoph"</span>, <span class="st">"Nadja"</span>, <span class="st">"Lukas"</span><span class="op">)</span>
<span class="va">alter</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">35</span>, <span class="fl">30</span>, <span class="fl">12</span><span class="op">)</span> <span class="co"># (Nicht alle diese Werte sind korrekt)</span>

<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">alter</span><span class="op">)</span>
<span class="co">#&gt; [1] 24.25</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Schön und gut, aber das ist ja unhandlich. Was, wenn wir die Namen aller TutorInnen haben wollen, die jünger als 30 sind? Alles was wir mit <code>alter</code> machen, passiert unabhängig von <code>namen</code>.</p>
<p>Um mehrere Variablen in Kontext zu setzen, gibt es tabellarischen Datenstrukturen, namentlich nennt sich sowas in R dann <code>data.frame</code>. Letztendlich ist das nichts anderes als eine Tabelle, aber für R ist eine Tabelle praktische eine Liste von Vektoren mit gleicher länge:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-11_cbcbcf0b22cbd0c9acd1274202352fa3">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">leute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Tobi"</span>, <span class="st">"Christoph"</span>, <span class="st">"Nadja"</span>, <span class="st">"Lukas"</span><span class="op">)</span>,
                    alter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">35</span>, <span class="fl">30</span>, <span class="fl">12</span><span class="op">)</span>,
                    beliebtheit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">8</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Anzeigen lassen</span>
<span class="va">leute</span>
<span class="co">#&gt;        name alter beliebtheit</span>
<span class="co">#&gt; 1      Tobi    20           9</span>
<span class="co">#&gt; 2 Christoph    35          10</span>
<span class="co">#&gt; 3     Nadja    30           8</span>
<span class="co">#&gt; 4     Lukas    12           3</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Was haben wir da gemacht?</p>
<ul>
<li>Wir haben einen <code>data.frame</code> mit der gleichnamigen Funktion erstellt</li>
<li>Die <strong>Argumente</strong> der Funktion haben die Form <code>Spaltenname = Werte der Spalte</code>
</li>
<li>Mehrere Argumente werden mit <code>,</code> getrennt und optional mit einem Zeilenumbruch übersichtlich gehalten</li>
</ul>
<p>Das Ergebnis ist eine Variable <code>leute</code>, die drei Spalten mit je vier Werten hat.<br>
Jede Spalte ist eine Variable, und jede Zeile der Tabelle kann als eine <em>Beobachtung</em> betrachtet werden.<br>
Eine Beobachtung (<em>Observation</em>) sind alle Werte, die wir zu einem Untersuchungsobjekt haben, also in diesem Beispiel eine Person. Wenn wir uns nur die erste Zeile anschauen, sehen wir nur die Werte, die zu Tobi gehören, in der zweiten Zeile sehen wir die Werte zu Christoph etc.</p>
<p>Tabellen, und damit <code>data.frames</code>, sind für uns die wichtigsten Objekte in R, weil wir fast ausschließlich mit Datensätzen in dieser Form arbeiten werden um unsere Statistik da draufzuwerfen.<br>
Wie können wir jetzt mit einzelnen Variablen arbeiten?</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-12_35a57c7aa47a74542412863b0930e01f">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Die Variable "name" ausgeben lassen</span>
<span class="va">leute</span><span class="op">$</span><span class="va">name</span>
<span class="co">#&gt; [1] "Tobi"      "Christoph" "Nadja"     "Lukas"</span>

<span class="co"># Den Mittelwert von "alter" bestimmen</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">leute</span><span class="op">$</span><span class="va">alter</span><span class="op">)</span>
<span class="co">#&gt; [1] 24.25</span>

<span class="co"># Die Standardabweichung von "beliebtheit"</span>
<span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">leute</span><span class="op">$</span><span class="va">beliebtheit</span><span class="op">)</span>
<span class="co">#&gt; [1] 3.109126</span>

<span class="co"># Was auch funktioniert:</span>
<span class="va">leute</span><span class="op">[[</span><span class="st">"name"</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; [1] "Tobi"      "Christoph" "Nadja"     "Lukas"</span>
<span class="va">leute</span><span class="op">[[</span><span class="st">"alter"</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; [1] 20 35 30 12</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><small>Das mit den “Levels” wird im Abschnitt zu [Datentypen] erklärt</small></p>
<p>Was wir hier benutzen nennt sich <em>Subsetting</em>, also im Grunde nur einen Teil von etwas rausholen. Hier also einen Teil der Tabelle on Form einer einzelnen Spalte.<br>
Spalten können wir mit <code>$</code> oder <code>[[ ]]</code> direkt aus einem <code>data.frame</code> ansteuern, was unser Leben gleich viel einfacher macht. Strenggenommen sidn <code>$</code> und <code>[[</code> auch eigene Funktionen, aber dazu vielleicht später mehr, im Moment ist für uns nur wichtig, dass wir einzelne Spalten (Variablen) einer Tabelle (<code>data.frame</code>) einfach adressieren und genauso behandeln können wie die einzelnen Variablen <code>name</code> und <code>alter</code>, die wir weiter oben erstellt haben.</p>
</section><section id="umgang-mit-datensätzen" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="umgang-mit-datensätzen">
<span class="header-section-number">4.4</span> Umgang mit Datensätzen</h2>
<p>Da wir noch nicht an dem Punkt sind, wo wir beliebige Daten einlesen können, und wir natürlich zu faul sind uns eine größere Tabelle selber zu schreiben, greifen wir zu Übungszwecken mal auf einen Datensatz zurück, der bei R von Haus aus mitgeliefert wird: <code>sleep</code>.</p>
<p>Dieser Datensatz beinhaltet die Daten aus einer Medikamentenstudie, bei der es um Schlafgewinn bzw. -verlust ging. Die Tabelle hat drei Spalten (Variablen) zu 10 Personen:</p>
<ul>
<li>
<code>extra</code>: Schlafzuwachs in Stunden, positiv oder negativ für mehr bzw. weniger Schlaf als vorher</li>
<li>
<code>group</code>: Die Versuchsgruppe, sprich welches Medikament die Person bekam, <code>1</code> oder <code>2</code>
</li>
<li>
<code>ID</code>: Die Identifikationsnummer der Person. Es ist gängig, ProbandInnen pseudonymisiert durchzunummerieren, der Zuordnung unt des Datenschutzes wegen als Zahlen.</li>
</ul>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-13_5bcd0586010c0ba02f46053a42b02bf1">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Mit head() lassen wir uns die ersten paar Zeilen (den "Kopf") der Tabelle anzeigen</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span>
<span class="co">#&gt;   extra group ID</span>
<span class="co">#&gt; 1   0.7     1  1</span>
<span class="co">#&gt; 2  -1.6     1  2</span>
<span class="co">#&gt; 3  -0.2     1  3</span>
<span class="co">#&gt; 4  -1.2     1  4</span>
<span class="co">#&gt; 5  -0.1     1  5</span>
<span class="co">#&gt; 6   3.4     1  6</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wie viele Zeilen hat die Tabelle?</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-14_ce4ae61d84c8ce671125503c793a0344">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span>
<span class="co">#&gt; [1] 20</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Die <em>number of rows</em> bekommen wir mit <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code> — ihr dürft jetzt raten, wie wir uns die Anzahl der Spalten (<em>columns</em>) anzeigen lassen können.</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-15_42f242616de71fa137a173e83da570ba">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Surprise!</p>
<p>Okay, aber was interessiert uns an diesem Datensatz jetzt? Wie wäre es mit dem durchschnittlichen Schlafzuwachs:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-16_38623a984b75acda1aad9ba774960f4e">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">$</span><span class="va">extra</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.54</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Schön und gut, aber wir wollen ja vermutlich die beiden Gruppen (Medikamente) vergleichen, also was tun?<br>
Subsetting to the rescue /o/</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-17_2483603735e736ae4e6d0be8ab1dcd6b">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">gruppe1</span> <span class="op">&lt;-</span> <span class="va">sleep</span><span class="op">[</span><span class="va">sleep</span><span class="op">$</span><span class="va">group</span> <span class="op">==</span> <span class="fl">1</span>, <span class="op">]</span>
<span class="va">gruppe2</span> <span class="op">&lt;-</span> <span class="va">sleep</span><span class="op">[</span><span class="va">sleep</span><span class="op">$</span><span class="va">group</span> <span class="op">==</span> <span class="fl">2</span>, <span class="op">]</span>

<span class="co"># Mittelwert der ersten Gruppe</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gruppe1</span><span class="op">$</span><span class="va">extra</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.75</span>

<span class="co"># Mittelwert der zweiten Gruppe</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">gruppe2</span><span class="op">$</span><span class="va">extra</span><span class="op">)</span>
<span class="co">#&gt; [1] 2.33</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Okay, Schritt für Schritt.<br>
Hier haben wir unseren ersten logischen vergleich benutzt, um eine Teilmenge der Tabelle zu extrahieren.<br>
Das klingt fancy, ist aber ziemlich simpel.<br>
In Worten heißt die Zeile <code>gruppe1 &lt;- sleep[sleep$group == 1]</code> lediglich:<br>
“<em>Nimm die Tabelle <code>sleep</code> und filtere daraus alle Zeilen, die zu der Gruppe <code>1</code> gehören, und speichere sie in die Variable <code>gruppe1</code></em>” Das Resultat sind zwei Variablen, die einen Teil der Tabelle <code>sleep</code> enthalten, und zwar jeweils zu einer der beiden Gruppen.</p>
<p>Wieso dann eigentlich noch diese <code>,</code>-Sache am Ende der eckigen Klammern?<br>
Das gehört zur Art, wie R Tabellen <em>indiziert</em>, sprich wie man einzelne Bereiche der Tabelle ansteuert:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-18_0cda4d06c36a79e01bd9f6631264643b">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Die erste Spalte</span>
<span class="va">sleep</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt;    extra</span>
<span class="co">#&gt; 1    0.7</span>
<span class="co">#&gt; 2   -1.6</span>
<span class="co">#&gt; 3   -0.2</span>
<span class="co">#&gt; 4   -1.2</span>
<span class="co">#&gt; 5   -0.1</span>
<span class="co">#&gt; 6    3.4</span>
<span class="co">#&gt; 7    3.7</span>
<span class="co">#&gt; 8    0.8</span>
<span class="co">#&gt; 9    0.0</span>
<span class="co">#&gt; 10   2.0</span>
<span class="co">#&gt; 11   1.9</span>
<span class="co">#&gt; 12   0.8</span>
<span class="co">#&gt; 13   1.1</span>
<span class="co">#&gt; 14   0.1</span>
<span class="co">#&gt; 15  -0.1</span>
<span class="co">#&gt; 16   4.4</span>
<span class="co">#&gt; 17   5.5</span>
<span class="co">#&gt; 18   1.6</span>
<span class="co">#&gt; 19   4.6</span>
<span class="co">#&gt; 20   3.4</span>

<span class="co"># Die erste Zeile</span>
<span class="va">sleep</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>
<span class="co">#&gt;   extra group ID</span>
<span class="co">#&gt; 1   0.7     1  1</span>

<span class="co"># Die erste Zeile und die dritte Spalte</span>
<span class="va">sleep</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; Levels: 1 2 3 4 5 6 7 8 9 10</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Die allgemeine Form ist <code>tabelle[Zeilennummer, Spaltennumer]</code>, und jetzt fragt ihr euch vermutlich, wieso wir vorhin <code>[[ ]]</code> benutzt haben, und jetzt <code>[ ]</code> — die kurze Antwort ist: Das ist halt was anderes. Die Details sind erstmal nicht so wichtig, was ihr euch vorerst merken solltet ist folgendes:</p>
<ul>
<li>
<code>sleep[1]</code> ergibt einen <code>data.frame</code> mit <strong>nur einer Spalte</strong>
</li>
<li>
<code>sleep[1, ]</code> ergibt einen <code>data.frame</code> mit <strong>nur einer Zeile</strong>
</li>
<li>
<code>sleep[[1]]</code> und <code>sleep$extra</code> sind <strong>dasselbe</strong> (weil <code>extra</code> die erste Spalte ist) und ergeben die erste Spalte als <strong>Vektor</strong>
</li>
<li>
<code>sleep$extra[[2]]</code> und <code>sleep$extra[2]</code> sind hier <strong>dasselbe</strong>: Das zweite Element im Vektor <code>sleep$extra</code>
</li>
</ul>
<p>Bei einer Tabelle ist es nützlich mit Zeilen und Spalten zu arbeiten, um die gewünschten Werte rauszuholen, aber bei einem Vektor gibt es in diesem Sinne nur eine Dimension.<br>
Sinn der Sache ist, dass wir Funktionen wie <code>mean</code> oder <code>sd</code> nur auf Vektoren anwenden können, was auch intuitiv irgendwie sinnvoll scheint, denn der Mittelwert einer ganzen Tabelle mit mehreren Variablen ist ja konzeptionell etwas… schwierig.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Okay</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">$</span><span class="va">extra</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.54</span>

<span class="co"># Das selbe Ergebnis</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.54</span>

<span class="co"># Auch okay!</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">[[</span><span class="st">"extra"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.54</span>

<span class="co"># Das hier nicht so</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">sleep</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; Warning in mean.default(sleep[1]): argument is not numeric or logical:</span>
<span class="co">#&gt; returning NA</span>
<span class="co">#&gt; [1] NA</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>sleep[1]</code> gibt euch zwar auch die Spalte <code>extra</code>, aber wie schon gesagt, in <code>data.frame</code>-Form, und nicht als Vektor.</p>
<p>Vermutlich verwirrt euch das ganze Geklammere jetzt mehr oder weniger stark, aber glaubt mir, wenn wir erstmal ein Gefühl dafür habt ist es sehr viel Wert diese Grundlagen auf dem Schirm zu haben (oder sie zumindest nachlesen zu können), denn in der ersten Zeit eurer R-Nutzung werdet ihr massenhaft kleinere und größere Fehler in dieser Art machen, wo ihr zwar das richtige <em>meint</em>, aber R nicht das richtige <em>sagt</em>.<br>
Die andere Sache ist, dass ihr das mit den eckigen Klammern gar nicht so häufig brauchen werdet, wenn ihr euch erstmal an das <em>tidyverse</em> und <em>dplyr</em> gewöhnt habt, aber dazu später mehr.</p>
<p>Wir schneiden das Ganze Thema <em>Subsetting</em> hier auch erstmal nur an, aber wenn ihr’s jetzt schon ganz genau wissen wollt, könnt ihr die Details <a href="https://adv-r.hadley.nz/subsetting.html#subsetting-operators">hier nachlesen</a></p>
</section><section id="logische-vergleiche" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="logische-vergleiche">
<span class="header-section-number">4.5</span> Logische Vergleiche</h2>
<p>Logik! Eine Welt des Spaßes, der internen Konsistenz[^Naja, fast. Aber Gödel lassen wir mal aus.] und der unendlichen Anwendbarkeit in allen Bereichen.<br>
Was ihr intuitiv als Logik kennt ist alleridngs etwas anderes als <em>formale Logik</em>, also das, was Computer verstehen.<br>
Wir brauchen zum Glück nicht all zu viel davon, nur den Standardkram und nichtmal das <a href="https://de.wikipedia.org/wiki/Boolesche_Algebra">volle Spekrum Bool’scher Algebra</a>.</p>
<p>Wir brauchen Logik in R in erster Linie zum <em>indizieren</em> von Objekten. Das heißt, wenn wir alle Zeilen einer Tabelle haben wollen, für die eine bestimmte Variable einen bestimmten Wert hat oder eine <em>Bedingung</em> erfüllt, dann drücken wir das durch Logik aus. Dasselbe funktioniert natürlich auch bei Vektoren (und strenggenommen funktioniert Tabellenindizierung sowieso über Vektorindizierung). Man nehme folgendes Beispiel:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-19_262628fcb013fcb2ae62b84e18a752ab">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">sleep</span><span class="op">[</span><span class="va">sleep</span><span class="op">$</span><span class="va">extra</span> <span class="op">&gt;</span> <span class="fl">3</span>, <span class="op">]</span>
<span class="co">#&gt;    extra group ID</span>
<span class="co">#&gt; 6    3.4     1  6</span>
<span class="co">#&gt; 7    3.7     1  7</span>
<span class="co">#&gt; 16   4.4     2  6</span>
<span class="co">#&gt; 17   5.5     2  7</span>
<span class="co">#&gt; 19   4.6     2  9</span>
<span class="co">#&gt; 20   3.4     2 10</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Das heißt: <em>“Nimm die Tabelle <code>sleep</code> und gib mir alle Zeilen (das mit den eckigen Klammen), für die die Variable <code>sleep$extra</code> <em>größer als 3</em> ist”</em>.</p>
<p>Das Ergebnis eines logischen Vergleichs ist immer entweder <code>TRUE</code> oder <code>FALSE</code> für wahr oder falsch.<br>
Wenn wir in R indizieren wollen, können wir dafür auch direkt <code>TRUE</code> und <code>FALSE</code> statt eines Vergleichs benutzen:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-20_5ca4505da455042496f10642f6687814">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">fib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">21</span><span class="op">)</span> 

<span class="va">fib</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 1 1</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hier haben wir uns effektiv nur die ersten beiden Werte des Vektors <code>fib</code> ausgeben lassen, weil R alles ausgibt, was mit <code>TRUE</code> indiziert ist und alles weglässt, was mit <code>FALSE</code> indiziert ist.<br><code>c(TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE)</code> ist hier ein <em>logischer Vektor</em>, also ein Vektor mit, naja, logischen Werten, der praktisch der Reihe nach jedes Element im Vektor <code>fib</code> entweder <em>an</em> oder <em>aus</em> schaltet, wie Lichtschalter. Wir müssen dafür nicht unbedingt einen logischen Vektor der gleichen Länge (Anzahl der Elemente) wie unser Zielvektor (der, den wir indizieren/filtern wollen) benutzen, aber es bietet sich für den Einstieg an so genau wie möglich zu sein.<br>
Wir könnten aber auch sowas machen:</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-21_d3d47e8cfc9a41639d87207112e4922f">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Immer abwechselnd TRUE und FALSE, also jedes zweite Element</span>
<span class="va">fib</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1]  1  2  5 13</span>

<span class="co"># Schema TRUE TRUE FALSE FALSE ginge auch</span>
<span class="va">fib</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 1 1 5 8</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wichtig hierbei ist, dass der logische Vektor ein <em>ganzer Faktor</em> des Zielvektors ist, das heißt, dass die Anzahl der Element im Zielvektor <em>ganz</em> durch die Anzahl der Elemente im logischen Vektor teilbar sein muss (also ohne Rest), ansonsten bekommen wir potenziell schwer vorhersagbare Ergebnisse.<br>
Was R hier macht nennt sich <em>Recycling</em>: In der ersten Zeile im letzten Beispiel wird der Vektor <code>c(TRUE, FALSE)</code> solange <em>recyclet</em>, also wiederverwendet, bis der ganze Zeilvektor “abgedeckt” ist. Wenn der logische Vektor nicht sauber in den Zielvektor passt (in Bezug auf die Anzahl der Elemente), dann bleibt entweder was übrig oder es reicht nicht. Das wäre schade.</p>
<section id="operatoren" class="level3" data-number="4.5.1"><h3 data-number="4.5.1" class="anchored" data-anchor-id="operatoren">
<span class="header-section-number">4.5.1</span> Operatoren</h3>
<p>Es gibt eine Reihe <em>logischer Operatoren</em> wie hier <code>&gt;</code> für <em>“ist größer als”</em>, die wichtigsten in Übersicht:</p>
<ul>
<li>
<code>==</code> (doppeltes Gleichheitszeichen <strong>ohne Leerzeichen dazwischen</strong>)
<ul>
<li>“Ist gleich”</li>
<li>
<code>1 == 2</code> –&gt; <code>FALSE</code>
</li>
<li>
<code>3 == 3</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>3 == "Hallo"</code> –&gt; <code>FALSE</code>
</li>
</ul>
</li>
<li>
<code>!=</code>
<ul>
<li>“ist ungleich”</li>
<li>Die <em>Negation</em> von <code>==</code>, also immer da wo <code>==</code> euch <code>TRUE</code> zeigt, gibt <code>!=</code> euch <code>FALSE</code> und andersherum.</li>
<li>
<code>pi != 3</code> –&gt; <code>TRUE</code>
</li>
<li><code>"Psychologiestudium" != "Voll gute Idee"</code></li>
</ul>
</li>
<li>
<code>!</code> (ja, ein einfaches Ausrufezeichen)
<ul>
<li>“Negation”</li>
<li>Dreht ein <code>FALSE</code> zu einem <code>TRUE</code> um und andersherum. Wichtig: Klammern!</li>
<li><code>!(2 == 3)</code></li>
<li><code>TRUE == !FALSE</code></li>
</ul>
</li>
<li>
<code>&gt;</code> und <code>&lt;</code> (spitze Klammern)
<ul>
<li>“ist größer/kleiner als”</li>
<li>Da wo die Klamer spitz ist, soll das <em>kleinere</em> sein</li>
<li>
<code>5 &gt; 4</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>2^10 &lt; 1000</code> –&gt; <code>FALSE</code>
</li>
<li>
<code>2 &lt; 5 &lt; 4</code> –&gt; <em>Funktioniert nicht!</em>
</li>
</ul>
</li>
<li>
<code>&gt;=</code>, <code>&lt;=</code>
<ul>
<li>“Größer gleich bzw. kleiner gleich”</li>
<li>Ist <em>Entweder</em> <code>a &gt; b</code> <em>oder</em> <code>a == b</code>?</li>
<li><code>5 &gt;= 4</code></li>
<li><code>16 &lt;= 2^4</code></li>
</ul>
</li>
</ul>
<p>Diese Ausdrücke können wir auch auf bestimmte Arten <em>verknüpfen</em>:</p>
<ul>
<li>
<code>&amp;</code> (oder auch <code>&amp;&amp;</code>)
<ul>
<li>“Und”</li>
<li>Ist <code>TRUE</code>, wenn beide Seiten <code>TRUE</code> sind</li>
<li>
<code>(1 &lt; 3) &amp; (5 &lt; 10)</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>(5 &lt; 2) &amp; (2 &lt; 10)</code> –&gt; <code>FALSE</code>
</li>
<li>1 und 0 werden zu <code>TRUE</code> bzw. <code>FALSE</code> übersetzt:
<ul>
<li>
<code>1 &amp; (2 == 2)</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>!(0 &amp; FALSE)</code> –&gt; <code>TRUE</code>
</li>
</ul>
</li>
</ul>
</li>
<li>
<code>|</code> (oder auch <code>||</code>)
<ul>
<li>“Oder”</li>
<li>Ist <em>entweder</em> A <em>oder</em> B <em>oder</em> beides <code>TRUE</code>?</li>
<li>Da <code>|</code> auch wahr ist, wenn nur eine Seite wahr ist, ist es auch Grundlage etlicher Mathe-/Logikwitze</li>
<li>
<code>(1 &lt; 3) | (5 &lt; 10)</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>(5 &lt; 2) | (2 &lt; 10)</code> –&gt; <code>TRUE</code>
</li>
</ul>
</li>
<li>
<code><a href="https://rdrr.io/r/base/Logic.html">xor()</a></code>
<ul>
<li>“Entweder … oder …” (<em>ausschließend</em>!)</li>
<li>Wenn euch <code>|</code> zu unspezifisch ist</li>
<li>Ist <em>nur</em> war, wenn <em>eins von beidem</em> wahr ist, aber nicht, wenn beides wahr ist</li>
<li>
<strong>Kein</strong> <em>binärer Operator</em> wie die anderen, sondern eine R-Funktion mit Klammern und so</li>
<li>
<code>xor(TRUE, FALSE)</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>xor(TRUE, TRUE)</code> –&gt; <code>FALSE</code>
</li>
<li>
<code>xor((1 &lt; 3), (5 &lt; 10))</code> –&gt; <code>FALSE</code>
</li>
<li>
<code>xor((5 &lt; 2), (2 &lt; 10))</code> –&gt; <code>TRUE</code>
</li>
</ul>
</li>
</ul></section><section id="spezielle-tests" class="level3" data-number="4.5.2"><h3 data-number="4.5.2" class="anchored" data-anchor-id="spezielle-tests">
<span class="header-section-number">4.5.2</span> Spezielle Tests</h3>
<p>Die obigen Operatoren können wir für getrost für Vektorvergleiche benutzen, aber es gibt noch ein paar Sonderfälle. Was zum Beispiel, wenn wir nur generell wissen wollen, ob ein Element wie eine Zahl oder ein String in einem Vektor enthalten ist? Oder was, wenn wir wir auf spezielle Typen oder Klassen testen wollen? Was das im Detail heißt sehen wir in den entsprechenden Abschnitten zu [Datentypen] noch einmal, aber hier schonmal eine Kurzreferenz:</p>
<ul>
<li>
<code>%in%</code> (auch hier, <em>ohne Leerzeichen</em> dazwischen!)
<ul>
<li>“Ist in”</li>
<li>Mengentheoretisch ist das <span class="math inline">\(x \in X\)</span>
</li>
<li>Ist Element <code>a</code> in Menge <code>b</code>?</li>
<li>
<code>5 %in% c(1, 4, 5, 3)</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>"B" %in% c("a", "b", "c")</code> –&gt; <code>FALSE</code>
</li>
<li>
<code>"B" %in% c("a", "B", "c")</code> –&gt; <code>TRUE</code>
</li>
<li>
<code>c(1, 2) %in% 1:5</code> –&gt; <code>TRUE</code>
</li>
</ul>
</li>
<li>
<code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code>: Testet auf fehlende Werte (<em>missing values</em>, <code>NA</code>)</li>
<li>
<code><a href="https://rdrr.io/r/base/NULL.html">is.null()</a></code>: Testet auf leere Werte (<code>NULL</code>)</li>
<li>
<code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code>: Testet auf <code>NaN</code> (<em>Not a Number</em>)</li>
</ul></section><section id="indexing-beispiele" class="level3" data-number="4.5.3"><h3 data-number="4.5.3" class="anchored" data-anchor-id="indexing-beispiele">
<span class="header-section-number">4.5.3</span> Indexing: Beispiele</h3>
<p>Das war jetzt relativ viel Information, und ihr müsst euch das auch nicht alles sofort merken, sondern nur wissen, wo ihr’s bei Bedarf nachschlagen könnt.<br>
Die Motivation hinter dem Logikram ist wie erwähnt primär das Filtern von Tabellen und Vektoren, was wir nunmal relativ häufig brauchen um zum Beispiel bestimmte Untergruppen in unseren Datensätze zu analysieren, zum Beispiel Personen älter als 35 (z.B. <code>age &gt; 35</code>) oder Menschen, die sowohl weiblich sind als auch Medikament B bekommen haben (z.B. <code>geschlecht == "weiblich" &amp; drug == "B"</code>).</p>
<section id="vektoren" class="level4" data-number="4.5.3.1"><h4 data-number="4.5.3.1" class="anchored" data-anchor-id="vektoren">
<span class="header-section-number">4.5.3.1</span> Vektoren</h4>
<p>Vektoren werden immer <em>elementweise</em> verglichen, das heißt, dass das Ergebnis von <code>c(1, 2) == 1</code> nicht <code>FALSE</code> oder <code>TRUE</code> ist, sondern der <em>logische Vektor</em> <code>TRUE FALSE</code>. Dadurch entsteht durch den logischen Vergleich eines Vektors ein Vektor aus <code>TRUE</code> und <code>FALSE</code>, den wir zum indizieren benutzen können, wie wir weiter oben schon gesehen haben.</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-22_cfcff7085f50e342444590d66002a910">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Irgendwelche Zahlen</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">31</span><span class="op">)</span>

<span class="co"># Alle Zahlen größer 4: "Gib mir x, wo x &gt; 4"</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">4</span><span class="op">]</span>
<span class="co">#&gt; [1]  7  7  9  6  5  5  8  9 31</span>

<span class="co"># Die Logik dahinter</span>
<span class="va">x</span> <span class="op">&gt;</span> <span class="fl">4</span>
<span class="co">#&gt;  [1] FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [13] FALSE  TRUE  TRUE  TRUE  TRUE</span>

<span class="co"># Alle Zahlen größer 5 und kleiner 20</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">20</span><span class="op">]</span>
<span class="co">#&gt; [1] 7 7 9 6 8 9</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Das Ganze lässt sich natürlich beliebig komplex aussehen lassen, weshalb zu viele Bedingungen in Kombination etwas verwirrend aussehen können.<br>
Weiterhin können wir einen Vektor natürlich auch durch einen Vergleich eines anderen Vektors indizieren.</p>
<div class="cell" data-hash="04-erste-schritte_cache/html/unnamed-chunk-23_ddeca342475b178de394dd33426123c7">
<details open=""><summary>Code verbergen/anzeigen</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">10</span>, <span class="fl">1</span>, <span class="fl">9</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>

<span class="co"># x, wo x größer gleich 4 ist *und* y kleiner 6</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">4</span> <span class="op">&amp;</span> <span class="op">(</span><span class="va">y</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 9 5</span>

<span class="co"># x, wo x und y identisch sind</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">==</span> <span class="va">y</span><span class="op">]</span>
<span class="co">#&gt; [1] 7 1 6 5 3</span>

<span class="co"># x, wo x kleiner y ist</span>
<span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="va">y</span><span class="op">]</span>
<span class="co">#&gt; [1] 4 2 7 4</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="tabellen-data.frame" class="level4" data-number="4.5.3.2"><h4 data-number="4.5.3.2" class="anchored" data-anchor-id="tabellen-data.frame">
<span class="header-section-number">4.5.3.2</span> Tabellen <small><code>data.frame</code></small>
</h4>
<p>Tabellenindexing ist nichts anderes als Vektorindexing mit einer anderen Struktur. Alle Regeln zum Vektorindexing, die wir bisher gesehen haben, gelten auch so für <code>data.frames</code>, nur dass wir hier jetzt auf einmal in Spalten und Zeilen denken müssen, anstatt in Vektoren.</p>


</section></section></section><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1" role="doc-endnote"><p>Money quote: “[…] the reason we use <code>&lt;-</code> for assignment is it made sense in a programming language written before the incorporation of Apple Computers, because it made sense in a programming language written before the moon landings.”<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../chapters/03-orientierung.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Orientierung</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/05-datentypen.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Datentypen</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
      <div class="nav-footer-center">CC-BY-NC Lukas Burk &amp; Tobias Anton</div>
  </div>
</footer>


</body></html>